import{_ as R}from"./AdminLayout.90f2d3cf.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";import{C as f,D as p,o as u,c as v,w as e,a as h,b as a,d as C,t as s,e as g,f as o}from"./app.5bc04564.js";import"./UserOutlined.9b50d372.js";import"./AppstoreOutlined.68a63fa9.js";const z={components:{AdminLayout:R},props:["member_applications","gender","membership_levels","member_application_state"],data(){return{columns:[{title:"\u59D3\u540D(\u4E2D\u6587)",dataIndex:"name_zh"},{title:"\u59D3\u540D(\u5916\u6587)",dataIndex:"name_en"},{title:"\u96FB\u5B50\u90F5\u7BB1",dataIndex:"email"},{title:"\u624B\u6A5F",dataIndex:"phone"},{title:"\u72C0\u614B",dataIndex:"state"},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation",width:300}],modal:{isOpen:!1,data:{},title:"Modal",mode:""},pagination:{showSizeChanger:this.member_applications.total>10?ture:!1,total:this.member_applications.total,current:this.member_applications.current_page,pageSize:this.member_applications.per_page},filter:{},rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0},email:{type:"email"}},validateMessages:{required:"\u8ACB\u8F93\u5165${label}",types:{email:"${label} \u4E0D\u662F\u6B63\u78BA\u7684\u90F5\u7BB1\u683C\u5F0F",number:"${label} \u4E0D\u662F\u6B63\u78BA\u7684\u6578\u5B57\u683C\u5F0F"},number:{range:"${label} \u5FC5\u9808\u5728${min}\u548C${max}\u4E4B\u9593"}},labelCol:{style:{width:"150px"}}}},created(){},methods:{viewRecord(n){console.log(n),this.modal.data={...n},this.modal.isOpen=!0},passRecord(n){this.$inertia.post(route("admin.members.applications.pass"),n,{onSuccess:t=>{f.success("\u63A5\u53D7\u7533\u8ACB\u6210\u529F"),this.data={},console.log(t)},onError:t=>{console.log(t),f.error("\u63A5\u53D7\u7533\u8ACB\u5931\u6557")}})},rejectRecord(n){this.$inertia.post(route("admin.members.applications.reject"),n,{onSuccess:t=>{f.success("\u62D2\u7D55\u7533\u8ACB\u6210\u529F"),this.data={},console.log(t)},onError:t=>{console.log(t),f.error("\u62D2\u7D55\u7533\u8ACB\u5931\u6557")}})},onPaginationChange(n,t,_){this.$inertia.get(route("admin.member_applications.index"),{page:n.current,per_page:n.pageSize})}}},O={class:"p-8 pt-8"},j=h("div",{class:"flex pb-2"},[h("div",{class:"basis-1/2 font-semibold text-xl text-gray-800"},"\u7533\u8ACB\u5217\u8868")],-1),q={class:"card drop-shadow-md pt-4"},A={key:0},B={key:1,class:"space-x-2"};function N(n,t,_,V,l,m){const c=p("a-button"),k=p("a-table"),d=p("a-descriptions-item"),y=p("a-descriptions"),w=p("a-modal"),I=p("AdminLayout");return u(),v(I,{title:"\u7533\u8ACB\u5217\u8868"},{default:e(()=>[h("div",O,[j,h("div",q,[a(k,{dataSource:_.member_applications.data,"text-right":"",columns:l.columns,pagination:l.pagination,onChange:m.onPaginationChange,ref:"dataTable"},{bodyCell:e(({column:i,record:r})=>{var x;return[i.dataIndex=="state"?(u(),C("div",A,s((x=_.member_application_state.find(b=>b.value==r.state))==null?void 0:x.label),1)):g("",!0),i.dataIndex=="operation"?(u(),C("div",B,[a(c,{onClick:b=>m.viewRecord(r)},{default:e(()=>[o("\u67E5\u770B")]),_:2},1032,["onClick"]),r.state==0?(u(),v(c,{key:0,onClick:b=>m.passRecord(r)},{default:e(()=>[o("\u63A5\u53D7")]),_:2},1032,["onClick"])):g("",!0),r.state==0?(u(),v(c,{key:1,onClick:b=>m.rejectRecord(r)},{default:e(()=>[o("\u62D2\u7D55")]),_:2},1032,["onClick"])):g("",!0)])):g("",!0)]}),_:1},8,["dataSource","columns","pagination","onChange"])]),a(w,{visible:l.modal.isOpen,"onUpdate:visible":t[3]||(t[3]=i=>l.modal.isOpen=i),title:"\u67E5\u770B",width:"60%"},{footer:e(()=>[a(c,{onClick:t[0]||(t[0]=i=>m.passRecord(n.record))},{default:e(()=>[o("\u63A5\u53D7")]),_:1}),a(c,{onClick:t[1]||(t[1]=i=>m.rejectRecord(n.record))},{default:e(()=>[o("\u62D2\u7D55")]),_:1}),a(c,{key:"back",onClick:t[2]||(t[2]=i=>l.modal.isOpen=!1)},{default:e(()=>[o("\u95DC\u9589")]),_:1})]),default:e(()=>[a(y,{title:"\u7533\u8ACB\u8868",bordered:""},{default:e(()=>[a(d,{label:"\u4E2D\u6587\u59D3\u540D"},{default:e(()=>[o(s(l.modal.data.name_zh),1)]),_:1}),a(d,{label:"\u6027\u5225"},{default:e(()=>{var i;return[o(s((i=_.gender.find(r=>r.value==l.modal.data.gender))==null?void 0:i.label),1)]}),_:1}),a(d,{label:"\u82F1\u6587\u59D3\u540D"},{default:e(()=>[o(s(l.modal.data.name_en),1)]),_:1}),a(d,{label:"\u51FA\u751F\u65E5\u671F"},{default:e(()=>[o(s(l.modal.data.birth),1)]),_:1}),a(d,{label:"\u901A\u8FC5\u5730\u5740"},{default:e(()=>[o(s(l.modal.data.address),1)]),_:1}),a(d,{label:"\u806F\u7D61\u96FB\u8A71"},{default:e(()=>[o(s(l.modal.data.phone),1)]),_:1}),a(d,{label:"\u96FB\u5B50\u90F5\u7BB1"},{default:e(()=>[o(s(l.modal.data.email),1)]),_:1}),a(d,{label:"\u5DE5\u4F5C\u6A5F\u69CB"},{default:e(()=>[o(s(l.modal.data.company),1)]),_:1}),a(d,{label:"\u8077\u4F4D"},{default:e(()=>[o(s(l.modal.data.position),1)]),_:1}),a(d,{label:"\u7533\u8ACB\u6703\u7C4D"},{default:e(()=>{var i;return[o(s((i=_.membership_levels.find(r=>r.value==l.modal.data.membership_level))==null?void 0:i.label),1)]}),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})}const T=S(z,[["render",N]]);export{T as default};
