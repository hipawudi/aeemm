import{_ as g}from"./AdminLayout.b9d213e0.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import{U as w}from"./UploadOutlined.a0e9ad3a.js";import{R as E}from"./RestFilled.27b78363.js";import{C as n,o as c,c as _,w as l,a as u,b as o,f as m,d as I,e as f}from"./app.d569b791.js";import"./UserOutlined.25157492.js";import"./AppstoreOutlined.d7af8558.js";const O={components:{AdminLayout:g,UploadOutlined:w,RestFilled:E},props:["certificates"],data(){return{modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"\u5C08\u696D\u8A8D\u8B49",dataIndex:"name"},{title:"\u8A8D\u8B49\u540D\u7A31",dataIndex:"cert_title"},{title:"\u8A8D\u8B49\u6A5F\u69CB",dataIndex:"cert_body"},{title:"\u8A8D\u8B49\u6A23\u5F0F",dataIndex:"cert_template"},{title:"\u7DE8\u865F\u683C\u5F0F",dataIndex:"number_format"},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},methods:{createRecord(d){this.modal.data={},this.modal.data.media=[],this.modal.mode="CREATE",this.modal.isOpen=!0},editRecord(d){this.modal.data={...d},this.modal.mode="EDIT",this.modal.title="\u4FEE\u6539",this.modal.isOpen=!0},storeRecord(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("admin.certificates.store"),this.modal.data,{onSuccess:d=>{this.modal.isOpen=!1},onError:d=>{console.log(d)}})}).catch(d=>{console.log(d)})},updateRecord(){this.$refs.modalRef.validateFields().then(()=>{this.modal.data._method="PATCH",this.$inertia.post(route("admin.certificates.update",this.modal.data.id),this.modal.data,{onSuccess:d=>{this.modal.isOpen=!1},onError:d=>{console.log(d)}})}).catch(d=>{console.log("error",d)})}}},T={class:"p-8 pt-8"},A={class:"flex pb-2"},q=u("div",{class:"flex-auto w-1/2 font-semibold text-xl text-gray-800 truncate whitespace-nowrap"}," \u5C08\u696D\u8A8D\u8B49 ",-1),S={class:"flex-auto w-1/2 text-right"},B={class:"card drop-shadow-md pt-4"},N={key:0,class:"space-x-2"};function V(d,t,b,D,e,p){const s=n("a-button"),x=n("a-table"),i=n("a-input"),r=n("a-form-item"),y=n("a-textarea"),C=n("a-form"),h=n("a-modal"),k=n("AdminLayout");return c(),_(k,{title:"Dashboard"},{default:l(()=>[u("div",T,[u("div",A,[q,u("div",S,[o(s,{type:"primary",class:"!rounded",onClick:t[0]||(t[0]=a=>p.createRecord())},{default:l(()=>[m("\u65B0\u589E\u5C08\u696D\u8A8D\u8B49")]),_:1})])]),u("div",B,[o(x,{dataSource:b.certificates,columns:e.columns},{bodyCell:l(({column:a,text:F,record:v,index:L})=>[a.dataIndex=="operation"?(c(),I("div",N,[o(s,{onClick:R=>p.editRecord(v)},{default:l(()=>[m("\u4FEE\u6539")]),_:2},1032,["onClick"]),o(s,{onClick:R=>d.deleteRecord(v.id)},{default:l(()=>[m("\u522A\u9664")]),_:2},1032,["onClick"])])):f("",!0)]),_:1},8,["dataSource","columns"])]),o(h,{visible:e.modal.isOpen,"onUpdate:visible":t[11]||(t[11]=a=>e.modal.isOpen=a),title:e.modal.mode=="CREATE"?"\u65B0\u589E":"\u4FEE\u6539",width:"60%"},{footer:l(()=>[e.modal.mode=="EDIT"?(c(),_(s,{key:"Update",type:"primary",onClick:t[9]||(t[9]=a=>p.updateRecord())},{default:l(()=>[m("\u66F4\u65B0")]),_:1})):f("",!0),e.modal.mode=="CREATE"?(c(),_(s,{key:"Store",type:"primary",onClick:t[10]||(t[10]=a=>p.storeRecord())},{default:l(()=>[m("\u65B0\u589E")]),_:1})):f("",!0)]),default:l(()=>[o(C,{ref:"modalRef",model:e.modal.data,name:"Teacher","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",rules:e.rules,"validate-messages":e.validateMessages},{default:l(()=>[o(i,{type:"hidden",value:e.modal.data.id,"onUpdate:value":t[1]||(t[1]=a=>e.modal.data.id=a)},null,8,["value"]),o(r,{label:"\u5C08\u696D\u8A8D\u8B49",name:"name"},{default:l(()=>[o(i,{value:e.modal.data.name,"onUpdate:value":t[2]||(t[2]=a=>e.modal.data.name=a)},null,8,["value"])]),_:1}),o(r,{label:"\u8A8D\u8B49\u540D\u7A31",name:"cert_title"},{default:l(()=>[o(i,{value:e.modal.data.cert_title,"onUpdate:value":t[3]||(t[3]=a=>e.modal.data.cert_title=a)},null,8,["value"])]),_:1}),o(r,{label:"\u8A8D\u8B49\u6A5F\u69CB",name:"cert_body"},{default:l(()=>[o(i,{value:e.modal.data.cert_body,"onUpdate:value":t[4]||(t[4]=a=>e.modal.data.cert_body=a)},null,8,["value"])]),_:1}),o(r,{label:"\u8A8D\u8B49\u6A23\u5F0F",name:"cert_template"},{default:l(()=>[o(i,{value:e.modal.data.cert_template,"onUpdate:value":t[5]||(t[5]=a=>e.modal.data.cert_template=a)},null,8,["value"])]),_:1}),o(r,{label:"\u7DE8\u865F\u683C\u5F0F",name:"number_format"},{default:l(()=>[o(i,{value:e.modal.data.number_format,"onUpdate:value":t[6]||(t[6]=a=>e.modal.data.number_format=a)},null,8,["value"])]),_:1}),o(r,{label:"\u7B49\u7D1A\u6A19\u984C",name:"rank_caption"},{default:l(()=>[o(i,{value:e.modal.data.rank_caption,"onUpdate:value":t[7]||(t[7]=a=>e.modal.data.rank_caption=a)},null,8,["value"])]),_:1}),o(r,{label:"\u7C21\u4ECB",name:"description"},{default:l(()=>[o(y,{value:e.modal.data.description,"onUpdate:value":t[8]||(t[8]=a=>e.modal.data.description=a)},null,8,["value"])]),_:1})]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])])]),_:1})}const K=U(O,[["render",V]]);export{K as default};
