import{_ as b}from"./AdminLayout.ecf5373d.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";import{C as c,D as a,o as x,c as w,w as s,a as i,b as o,f as C}from"./app.25506e31.js";import"./UserOutlined.59aec3f0.js";import"./AppstoreOutlined.8da2a6ad.js";const y={components:{AdminLayout:b},props:["members"],data(){return{email_log:{}}},created(){},methods:{sendEmail(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("admin.emails.store"),this.email_log,{preserveState:!1,preserveScroll:!0,resetOnSuccess:!1,onSuccess:e=>{console.log(e),c.success("\u767C\u9001\u6210\u529F")},onError:e=>{console.log(e),c.error(e.message)}})}).catch(e=>{this.loading=!1,console.log(e)})},filterOption(e,t){return t.name_zh.toLowerCase().indexOf(e.toLowerCase())>=0}}},L={class:"md:p-8 pt-8"},k=i("div",{class:"flex pb-2"},[i("div",{class:"flex-auto w-1/2 font-semibold text-xl text-gray-800 truncate whitespace-nowrap"}," \u96FB\u90F5\u767C\u9001 ")],-1),O={class:"card drop-shadow-md pt-4 bg-white p-6 rounded-lg"},S={class:"flex justify-end"};function z(e,t,_,A,l,r){const d=a("a-select"),m=a("a-form-item"),p=a("a-input"),u=a("a-textarea"),f=a("a-form"),v=a("a-button"),g=a("AdminLayout");return x(),w(g,{title:"\u96FB\u90F5\u767C\u9001"},{default:s(()=>[i("div",L,[k,i("div",O,[o(f,{model:l.email_log,ref:"modalRef"},{default:s(()=>[o(m,{label:"\u6703\u54E1",name:"member"},{default:s(()=>[o(d,{value:l.email_log.member,"onUpdate:value":t[0]||(t[0]=n=>l.email_log.member=n),options:_.members,"filter-option":r.filterOption,"show-search":"",mode:"multiple","field-names":{label:"name_zh",value:"id"}},null,8,["value","options","filter-option"])]),_:1}),o(m,{label:"\u6A19\u984C",name:"title"},{default:s(()=>[o(p,{value:l.email_log.title,"onUpdate:value":t[1]||(t[1]=n=>l.email_log.title=n)},null,8,["value"])]),_:1}),o(m,{label:"\u5167\u5BB9",name:"content"},{default:s(()=>[o(u,{value:l.email_log.content,"onUpdate:value":t[2]||(t[2]=n=>l.email_log.content=n),"auto-size":""},null,8,["value"])]),_:1})]),_:1},8,["model"]),i("div",S,[o(v,{type:"primary",onClick:r.sendEmail},{default:s(()=>[C("\u767C\u9001")]),_:1},8,["onClick"])])])])]),_:1})}const R=h(y,[["render",z]]);export{R as default};
