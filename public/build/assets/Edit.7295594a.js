import{_ as A}from"./AdminLayout.ecf5373d.js";import{q as V}from"./index.54638dd9.js";import{N as z,C as E,D as i,o as v,c as R,w as a,a as s,b as e,d as b,f as m,e as p}from"./app.25506e31.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import{U as N}from"./UploadOutlined.95ecb675.js";import{R as B}from"./RestFilled.7dbd073e.js";import"./UserOutlined.59aec3f0.js";import"./AppstoreOutlined.8da2a6ad.js";const L={setup(){return{}},components:{AdminLayout:A,UploadOutlined:N,RestFilled:B,quillEditor:V,dayjs:z},props:["course"],data(){return{dateFormat:"YYYY-MM-DD",current:0,quillEditorOption:{placeholder:"core",modules:{}},rules:{name_zh:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}}}},created(){Array.isArray(this.course.class_time)||(this.course.class_time=this.course.class_time),this.course.poster_path&&(this.course.poster=[{name:this.course.poster_path.split("/").pop(),url:this.course.poster_url}],console.log(this.course),console.log(this.course.poster_path.split("/").pop()))},mounted(){},computed:{},methods:{updateRecord(){this.$refs.modalRef.validateFields().then(()=>{this.course._method="PATCH",this.$inertia.post(route("admin.courses.update",this.course.id),this.course,{onSuccess:r=>{Array.isArray(this.course.class_time)||(this.course.class_time=this.course.class_time),E.success("\u4FEE\u6539\u6210\u529F"),console.log(r)},onError:r=>{console.log(r)}})}).catch(r=>{console.log("error",r)})}}},M={class:"md:p-8 pt-8"},Y=s("div",{class:"flex pb-2"},[s("div",{class:"flex-auto w-1/2 font-semibold text-xl text-gray-800 truncate whitespace-nowrap"}," \u5275\u5EFA\u8AB2\u7A0B ")],-1),D={class:"card drop-shadow-md pt-4"},T={class:"pb-4"},O={key:0,class:"card bg-white rounded-md p-4"},S=s("div",{class:"text-lg font-bold pb-2"},"\u57FA\u672C\u8CC7\u6599",-1),j={class:"flex-col"},P={class:"flex gap-6"},G={class:"flex-1"},I={class:"flex-1"},J={class:"flex-1"},K={class:"flex gap-6"},Q={class:"flex w-1/2 gap-6"},W={class:"flex flex-auto w-1/2 gap-6"},X={class:"flex gap-6"},Z={class:"flex-auto w-1/2"},$={class:"flex-auto w-1/2"},ee={class:"flex gap-6"},te={class:"flex-auto w-1/4"},le={class:"flex-auto w-1/4"},oe={class:"flex-auto w-1/2"},ae={class:"text-right"},se={key:1,class:"card bg-white p-4 rounded-md"},ue=s("div",{class:"text-lg font-bold pb-2"},"\u8AB2\u7A0B\u5167\u5BB9",-1),ne={class:"bg-white"},ie={class:"text-right space-x-4"},de={key:2,class:"card bg-white p-4 rounded-md"},re=s("div",{class:"text-lg font-bold pb-2"},"\u5C0E\u5E2B\u8CC7\u6599",-1),ce={class:"bg-white"},me={class:"text-right space-x-4"};function _e(r,t,o,ve,n,U){const f=i("a-step"),k=i("a-steps"),d=i("a-input"),u=i("a-form-item"),h=i("a-textarea"),g=i("a-date-picker"),_=i("a-input-number"),x=i("a-switch"),w=i("upload-outlined"),c=i("a-button"),C=i("a-upload"),y=i("quill-editor"),F=i("a-form"),q=i("AdminLayout");return v(),R(q,{title:"\u5275\u5EFA\u8AB2\u7A0B"},{default:a(()=>[s("div",M,[Y,s("div",D,[e(F,{ref:"modalRef",model:o.course,name:"Teacher",layout:"vertical",autocomplete:"off",rules:n.rules,"validate-messages":n.validateMessages},{default:a(()=>[s("div",T,[e(k,{current:n.current,"onUpdate:current":t[0]||(t[0]=l=>n.current=l)},{default:a(()=>[e(f,{title:"\u57FA\u672C\u8CC7\u6599"}),e(f,{title:"\u8AB2\u7A0B\u5167\u5BB9"}),e(f,{title:"\u5C0E\u5E2B\u8CC7\u6599"})]),_:1},8,["current"])]),n.current===0?(v(),b("div",O,[S,s("div",j,[s("div",P,[s("div",G,[e(u,{label:"\u8AB2\u7A0B\u540D\u7A31(\u4E2D\u6587)",name:"name_zh"},{default:a(()=>[e(d,{value:o.course.name_zh,"onUpdate:value":t[1]||(t[1]=l=>o.course.name_zh=l)},null,8,["value"])]),_:1})]),s("div",I,[e(u,{label:"\u8AB2\u7A0B\u540D\u7A31(\u82F1\u6587)",name:"name_en"},{default:a(()=>[e(d,{value:o.course.name_en,"onUpdate:value":t[2]||(t[2]=l=>o.course.name_en=l)},null,8,["value"])]),_:1})]),s("div",J,[e(u,{label:"\u8AB2\u7A0B\u7DE8\u865F",name:"number"},{default:a(()=>[e(d,{value:o.course.number,"onUpdate:value":t[3]||(t[3]=l=>o.course.number=l)},null,8,["value"])]),_:1})])]),e(u,{label:"\u8AB2\u7A0B\u7C21\u4ECB(\u4E2D\u6587)",name:"description_zh"},{default:a(()=>[e(h,{value:o.course.description_zh,"onUpdate:value":t[4]||(t[4]=l=>o.course.description_zh=l)},null,8,["value"])]),_:1}),e(u,{label:"\u8AB2\u7A0B\u7C21\u4ECB(\u82F1\u6587)",name:"description_en"},{default:a(()=>[e(h,{value:o.course.description_en,"onUpdate:value":t[5]||(t[5]=l=>o.course.description_en=l)},null,8,["value"])]),_:1}),s("div",K,[s("div",Q,[e(u,{label:"\u958B\u59CB\u65E5\u671F",name:"start_date"},{default:a(()=>[e(g,{value:o.course.start_date,"onUpdate:value":t[6]||(t[6]=l=>o.course.start_date=l),format:n.dateFormat,valueFormat:n.dateFormat},null,8,["value","format","valueFormat"])]),_:1}),e(u,{label:"\u7D50\u675F\u65E5\u671F",name:"end_date"},{default:a(()=>[e(g,{value:o.course.end_date,"onUpdate:value":t[7]||(t[7]=l=>o.course.end_date=l),format:n.dateFormat,valueFormat:n.dateFormat},null,8,["value","format","valueFormat"])]),_:1}),e(u,{label:"\u4E0A\u8AB2\u6642\u9593",name:"class_time"},{default:a(()=>[e(d,{value:o.course.class_time,"onUpdate:value":t[8]||(t[8]=l=>o.course.class_time=l),format:"HH:mm",valueFormat:"HH:mm"},null,8,["value"])]),_:1}),e(u,{label:"\u6642\u6578",name:"hours"},{default:a(()=>[e(_,{value:o.course.hours,"onUpdate:value":t[9]||(t[9]=l=>o.course.hours=l),min:0},null,8,["value"])]),_:1})]),s("div",W,[e(u,{label:"\u5B78\u8CBB(\u975E\u6703\u54E1)",name:"fee"},{default:a(()=>[e(_,{value:o.course.fee,"onUpdate:value":t[10]||(t[10]=l=>o.course.fee=l),min:0},null,8,["value"])]),_:1}),e(u,{label:"\u5B78\u8CBB(\u6703\u54E1)",name:"fee_member"},{default:a(()=>[e(_,{value:o.course.fee_member,"onUpdate:value":t[11]||(t[11]=l=>o.course.fee_member=l),min:0},null,8,["value"])]),_:1}),e(u,{label:"\u540D\u984D",name:"quota"},{default:a(()=>[e(_,{value:o.course.quota,"onUpdate:value":t[12]||(t[12]=l=>o.course.quota=l)},null,8,["value"])]),_:1}),e(u,{label:"\u8A9E\u8A00",name:"language"},{default:a(()=>[e(d,{value:o.course.language,"onUpdate:value":t[13]||(t[13]=l=>o.course.language=l)},null,8,["value"])]),_:1}),e(u,{label:"\u5C0D\u8C61",name:"target"},{default:a(()=>[e(d,{value:o.course.target,"onUpdate:value":t[14]||(t[14]=l=>o.course.target=l)},null,8,["value"])]),_:1})])]),s("div",X,[s("div",Z,[e(u,{label:"\u5730\u9EDE",name:"location"},{default:a(()=>[e(d,{value:o.course.location,"onUpdate:value":t[15]||(t[15]=l=>o.course.location=l)},null,8,["value"])]),_:1})]),s("div",$,[e(u,{label:"\u8A8D\u53EF\u7BC4\u7587",name:"scope"},{default:a(()=>[e(d,{value:o.course.scope,"onUpdate:value":t[16]||(t[16]=l=>o.course.scope=l)},null,8,["value"])]),_:1})])]),s("div",ee,[s("div",te,[e(u,{label:"\u6703\u54E1\u512A\u5148",name:"member_priority"},{default:a(()=>[e(x,{checked:o.course.member_priority,"onUpdate:checked":t[17]||(t[17]=l=>o.course.member_priority=l),unCheckedValue:0,checkedValue:1},null,8,["checked"])]),_:1})]),s("div",le,[e(u,{label:"\u767C\u4F48",name:"published"},{default:a(()=>[e(x,{checked:o.course.published,"onUpdate:checked":t[18]||(t[18]=l=>o.course.published=l),unCheckedValue:0,checkedValue:1},null,8,["checked"])]),_:1})]),s("div",oe,[e(u,{label:"\u55AE\u5F35",name:"poster"},{default:a(()=>[e(C,{"file-list":o.course.poster,"onUpdate:fileList":t[19]||(t[19]=l=>o.course.poster=l),multiple:!1,beforeUpload:()=>!1,"max-count":1,"list-type":"picture"},{default:a(()=>[e(c,null,{default:a(()=>[e(w),m(" \u4E0A\u50B3 ")]),_:1})]),_:1},8,["file-list","beforeUpload"])]),_:1})])])]),s("div",ae,[e(c,{type:"primary",onClick:t[20]||(t[20]=l=>n.current++)},{default:a(()=>[m("\u4E0B\u4E00\u9801")]),_:1})])])):p("",!0),n.current===1?(v(),b("div",se,[ue,e(u,{label:"\u5167\u5BB9",name:"content"},{default:a(()=>[s("div",ne,[e(y,{value:o.course.content,"onUpdate:value":t[21]||(t[21]=l=>o.course.content=l),style:{"min-height":"300px"}},null,8,["value"])])]),_:1}),s("div",ie,[e(c,{onClick:t[22]||(t[22]=l=>n.current--)},{default:a(()=>[m("\u4E0A\u4E00\u9801")]),_:1}),e(c,{type:"primary",onClick:t[23]||(t[23]=l=>n.current++)},{default:a(()=>[m("\u4E0B\u4E00\u9801")]),_:1})])])):p("",!0),n.current===2?(v(),b("div",de,[re,e(u,{label:"\u5C0E\u5E2B",name:"tutor"},{default:a(()=>[s("div",ce,[e(y,{value:o.course.tutor,"onUpdate:value":t[24]||(t[24]=l=>o.course.tutor=l),style:{"min-height":"300px"}},null,8,["value"])])]),_:1}),s("div",me,[e(c,{onClick:t[25]||(t[25]=l=>n.current--)},{default:a(()=>[m("\u4E0A\u4E00\u9801")]),_:1}),e(c,{key:"Store",type:"primary",onClick:U.updateRecord},{default:a(()=>[m("\u4FEE\u6539")]),_:1},8,["onClick"])])])):p("",!0)]),_:1},8,["model","rules","validate-messages"])])])]),_:1})}const ke=H(L,[["render",_e]]);export{ke as default};
