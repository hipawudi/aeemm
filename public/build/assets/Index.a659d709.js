import{_ as x}from"./AdminLayout.b1278d3d.js";import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import{C as d,D as c,o as a,c as b,w as m,a as t,b as w,d as _,t as p,e as u}from"./app.8d6b5d0d.js";import"./UserOutlined.74c238c8.js";import"./AppstoreOutlined.5537e5f8.js";const y={components:{AdminLayout:x},props:["email_logs","members"],data(){return{pagination:{total:this.email_logs.total,current:this.email_logs.current_page,pageSize:this.email_logs.per_page},columns:[{title:"\u6536\u4EF6\u4EBA",dataIndex:"member_id"},{title:"\u6A19\u984C",dataIndex:"title"},{title:"\u5167\u5BB9",dataIndex:"content"},{title:"\u72C0\u614B",dataIndex:"status"},{title:"\u932F\u8AA4\u4FE1\u606F",dataIndex:"error_message"}]}},created(){},methods:{sendEmail(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("admin.emails.store"),this.email_log,{preserveState:!1,preserveScroll:!0,resetOnSuccess:!1,onSuccess:e=>{console.log(e),d.success("\u767C\u9001\u6210\u529F")},onError:e=>{console.log(e),d.error(e.message)}})}).catch(e=>{this.loading=!1,console.log(e)})},filterOption(e,s){return s.name_zh.toLowerCase().indexOf(e.toLowerCase())>=0}}},I={class:"md:p-8 pt-8"},S=t("div",{class:"flex pb-2"},[t("div",{class:"flex-auto w-1/2 font-semibold text-xl text-gray-800 truncate whitespace-nowrap"}," \u96FB\u90F5\u8A18\u9304 ")],-1),C={class:"container mx-auto pt-5"},k={class:"bg-white relative shadow rounded-lg overflow-x-auto"},L={key:0,class:"w-16"},B={key:1,class:"w-16"};function z(e,s,o,A,n,E){const g=c("a-table"),h=c("AdminLayout");return a(),b(h,{title:"\u96FB\u90F5\u8A18\u9304"},{default:m(()=>[t("div",I,[S,t("div",C,[t("div",k,[w(g,{dataSource:o.email_logs.data,columns:n.columns,pagination:n.pagination},{bodyCell:m(({column:i,record:l})=>{var r;return[i.dataIndex=="member_id"?(a(),_("div",L,p((r=o.members.find(f=>f.id==l.member_id))==null?void 0:r.name_zh),1)):u("",!0),i.dataIndex=="status"?(a(),_("div",B,p(l.status==1?"\u767C\u9001\u6210\u529F":"\u767C\u9001\u5931\u6557"),1)):u("",!0)]}),_:1},8,["dataSource","columns","pagination"])])])])]),_:1})}const F=v(y,[["render",z]]);export{F as default};
