import{_ as A}from"./AdminLayout.908ec7b8.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{U as M}from"./UploadOutlined.d3366d82.js";import{C as i,o as m,c as h,w as o,a as r,b as l,f as n,d as _,t as x,F as y,e as k}from"./app.505072c8.js";import"./UserOutlined.870741e4.js";import"./AppstoreOutlined.e053d997.js";const S={components:{AdminLayout:A,UploadOutlined:M},props:["professionals","certificates","members"],data(){return{dateFormat:"YYYY-MM-DD",modal:{isOpen:!1,data:{},title:"Modal",mode:""},columns:[{title:"\u5C08\u696D\u8A8D\u8B49",dataIndex:"cert_title",model:"certificate"},{title:"\u6210\u54E1\u540D\u7A31",dataIndex:"display_name",model:"member"},{title:"\u8A8D\u8B49\u540D\u7247\u865F\u78BC",dataIndex:"number_display"},{title:"\u7C3D\u767C\u65E5\u671F",dataIndex:"issue_date"},{title:"\u6709\u6548\u671F\u81EA",dataIndex:"valid_from"},{title:"\u6709\u6548\u671F\u81F3",dataIndex:"valid_until"},{title:"\u6388\u6B0A\u4EBA",dataIndex:"authorize_by"},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation"}],rules:{name_zh:{required:!0},mobile:{required:!0},state:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},labelCol:{style:{width:"150px"}}}},created(){},methods:{createRecord(d){this.modal.data={},this.modal.data.media=[],this.modal.data.certificate={},this.modal.data.member={},this.modal.mode="CREATE",this.modal.isOpen=!0},editRecord(d){this.modal.data={...d},this.modal.mode="EDIT",this.modal.title="\u4FEE\u6539",this.modal.isOpen=!0},storeRecord(){this.$refs.modalRef.validateFields().then(()=>{this.$inertia.post(route("admin.professionals.store"),this.modal.data,{onSuccess:d=>{this.modal.isOpen=!1},onError:d=>{console.log(d)}})}).catch(d=>{console.log(d)})},updateRecord(){this.$refs.modalRef.validateFields().then(()=>{this.modal.data._method="PATCH",this.$inertia.post(route("admin.professionals.update",this.modal.data.id),this.modal.data,{onSuccess:d=>{this.modal.isOpen=!1},onError:d=>{console.log(d)}})}).catch(d=>{console.log("error",d)})},deleteRecord(d){this.$inertia.delete("/admin/professionals/"+d,{onSuccess:a=>{console.log(a)},onError:a=>{console.log(a)}})}}},N={class:"p-8 pt-8"},V={class:"flex pb-2"},q=r("div",{class:"basis-1/2 font-semibold text-xl text-gray-800"},"\u5C08\u696D\u8B49\u66F8",-1),B={class:"basis-1/2 text-right"},H={class:"card drop-shadow-md pt-4"},L={key:0,class:"space-x-2"},Y={key:0},P=r("svg",{focusable:"false",class:"","data-icon":"delete",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",viewBox:"64 64 896 896"},[r("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"})],-1),j=["src"];function G(d,a,v,J,e,p){const u=i("a-button"),C=i("a-popconfirm"),F=i("a-table"),g=i("a-select"),s=i("a-form-item"),c=i("a-input"),b=i("a-date-picker"),I=i("a-textarea"),R=i("inertia-link"),U=i("upload-outlined"),E=i("a-upload"),D=i("a-form"),T=i("a-modal"),w=i("AdminLayout");return m(),h(w,{title:"Dashboard"},{default:o(()=>[r("div",N,[r("div",V,[q,r("div",B,[l(u,{onClick:a[0]||(a[0]=t=>p.createRecord()),type:"primary",class:"!rounded"},{default:o(()=>[n("\u65B0\u589E\u5C08\u696D\u8B49\u66F8")]),_:1})])]),r("div",H,[l(F,{dataSource:v.professionals,columns:e.columns},{bodyCell:o(({column:t,text:K,record:f,index:Q})=>[t.dataIndex=="operation"?(m(),_("div",L,[l(u,{onClick:z=>p.editRecord(f)},{default:o(()=>[n("\u4FEE\u6539")]),_:2},1032,["onClick"]),l(C,{title:"\u662F\u5426\u78BA\u5B9A\u522A\u9664\u9019\u500B\u5C08\u696D\u8B49\u66F8","ok-text":"\u662F","cancel-text":"\u5426",onConfirm:z=>p.deleteRecord(f.id)},{default:o(()=>[l(u,null,{default:o(()=>[n("\u522A\u9664")]),_:1})]),_:2},1032,["onConfirm"])])):t.model=="member"?(m(),_(y,{key:1},[n(x(f.member[t.dataIndex]),1)],64)):t.model=="certificate"?(m(),_(y,{key:2},[n(x(f.certificate[t.dataIndex]),1)],64)):(m(),_(y,{key:3},[n(x(f[t.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])]),l(T,{visible:e.modal.isOpen,"onUpdate:visible":a[14]||(a[14]=t=>e.modal.isOpen=t),title:e.modal.mode=="CREATE"?"\u65B0\u589E":"\u4FEE\u6539",width:"60%"},{footer:o(()=>[e.modal.mode=="EDIT"?(m(),h(u,{key:"Update",type:"primary",onClick:a[12]||(a[12]=t=>p.updateRecord())},{default:o(()=>[n("\u66F4\u65B0")]),_:1})):k("",!0),e.modal.mode=="CREATE"?(m(),h(u,{key:"Store",type:"primary",onClick:a[13]||(a[13]=t=>p.storeRecord())},{default:o(()=>[n("\u65B0\u589E")]),_:1})):k("",!0)]),default:o(()=>[l(D,{ref:"modalRef",model:e.modal.data,name:"Teacher","label-col":{span:4},"wrapper-col":{span:24},autocomplete:"off",rules:e.rules,"validate-messages":e.validateMessages},{default:o(()=>[l(s,{label:"Certificate Title",name:"certificate_id"},{default:o(()=>[l(g,{value:e.modal.data.certificate_id,"onUpdate:value":a[1]||(a[1]=t=>e.modal.data.certificate_id=t),options:v.certificates,"field-names":{label:"cert_title",value:"id"},disabled:e.modal.mode=="EDIT"},null,8,["value","options","disabled"])]),_:1}),l(s,{label:"Display Name",name:"member_id"},{default:o(()=>[l(g,{value:e.modal.data.member_id,"onUpdate:value":a[2]||(a[2]=t=>e.modal.data.member_id=t),options:v.members,"field-names":{label:"display_name",value:"id"},disabled:e.modal.mode=="EDIT"},null,8,["value","options","disabled"])]),_:1}),l(s,{label:"Display Number",name:"number_display"},{default:o(()=>[l(c,{value:e.modal.data.number_display,"onUpdate:value":a[3]||(a[3]=t=>e.modal.data.number_display=t),disabled:e.modal.mode=="EDIT"},null,8,["value","disabled"])]),_:1}),l(s,{label:"Issue Date",name:"issue_date"},{default:o(()=>[l(b,{value:e.modal.data.issue_date,"onUpdate:value":a[4]||(a[4]=t=>e.modal.data.issue_date=t),format:e.dateFormat,valueFormat:e.dateFormat},null,8,["value","format","valueFormat"])]),_:1}),l(s,{label:"Valid From",name:"valid_from"},{default:o(()=>[l(b,{value:e.modal.data.valid_from,"onUpdate:value":a[5]||(a[5]=t=>e.modal.data.valid_from=t),format:e.dateFormat,valueFormat:e.dateFormat},null,8,["value","format","valueFormat"])]),_:1}),l(s,{label:"Valid Until",name:"valid_until"},{default:o(()=>[l(b,{value:e.modal.data.valid_until,"onUpdate:value":a[6]||(a[6]=t=>e.modal.data.valid_until=t),format:e.dateFormat,valueFormat:e.dateFormat},null,8,["value","format","valueFormat"])]),_:1}),l(s,{label:"Authorize by",name:"authorize_by"},{default:o(()=>[l(c,{value:e.modal.data.authorize_by,"onUpdate:value":a[7]||(a[7]=t=>e.modal.data.authorize_by=t)},null,8,["value"])]),_:1}),l(s,{label:"Rank",name:"rank"},{default:o(()=>[l(c,{value:e.modal.data.rank,"onUpdate:value":a[8]||(a[8]=t=>e.modal.data.rank=t)},null,8,["value"])]),_:1}),l(s,{label:"Extra",name:"extra"},{default:o(()=>[l(c,{value:e.modal.data.extra,"onUpdate:value":a[9]||(a[9]=t=>e.modal.data.extra=t)},null,8,["value"])]),_:1}),l(s,{label:"Remark",name:"remark"},{default:o(()=>[l(I,{value:e.modal.data.remark,"onUpdate:value":a[10]||(a[10]=t=>e.modal.data.remark=t)},null,8,["value"])]),_:1}),l(s,{label:"Avata",name:"avata"},{default:o(()=>[e.modal.data.media.length?(m(),_("div",Y,[l(R,{href:d.route("admin.certificate-delete-media",e.modal.data.media[0].id),class:"float-right text-red-500"},{default:o(()=>[P]),_:1},8,["href"]),r("img",{src:"/media/"+e.modal.data.media[0].id+"/"+e.modal.data.media[0].file_name},null,8,j)])):k("",!0),l(E,{"file-list":e.modal.data.avata,"onUpdate:fileList":a[11]||(a[11]=t=>e.modal.data.avata=t),multiple:!1,beforeUpload:()=>!1,"max-count":1,"list-type":"picture"},{default:o(()=>[l(u,null,{default:o(()=>[l(U),n(" upload ")]),_:1})]),_:1},8,["file-list","beforeUpload"])]),_:1})]),_:1},8,["model","rules","validate-messages"])]),_:1},8,["visible","title"])])]),_:1})}const te=O(S,[["render",G]]);export{te as default};
